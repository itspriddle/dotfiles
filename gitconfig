[user]
	name  = Josh Priddle
	email = jpriddle@me.com
  signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIF4LsgFuqYLjfCqCd73SuOoK358dlTzg2W0BuT2qdnm5

[color]
	ui = auto

[color "status"]
	header    = yellow bold
	added     = green bold
	updated   = green reverse
	changed   = magenta bold
	untracked = red

[color "diff"]
	meta       = yellow bold
	frag       = magenta bold
	old        = red bold
	new        = green bold
	whitespace = red reverse

[branch]
	sort = -authordate

[push]
	default = current

[fetch]
	prune = true

[merge]
	ff = only
	tool = fugitive

[pull]
	rebase = true

[commit]
	cleanup = scissors

[core]
	whitespace   = fix,-indent-with-non-tab,trailing-space,cr-at-eol
	excludesfile = ~/.gitignore

[format]
	pretty = format:%C(red)%h%Creset%C(yellow)%d%Creset %C(magenta)%an%Creset: %s %C(green)(%ar)%Creset

[alias]
	amend            = !git commit --amend --date=\"$(date)\" -C HEAD
	branch-name      = rev-parse --abbrev-ref HEAD
	copy-last-sha    = !git last-sha | tr -d '\n' | pbcopy
	last-sha         = rev-parse --short HEAD
	lg               = log --graph --abbrev-commit --date=relative
	msg              = commit --allow-empty -m
	pa               = add --patch
	pending          = !git --no-pager log @{u}.. && echo
	undo             = reset --soft HEAD^
	unstage          = reset HEAD --
	prune-branches   = !git branch --merged | grep -E -v '^(master|main)$' | grep -v "\\\\*" | xargs -n 1 git branch -d
	fixup            = "!f() { git commit $* --fixup HEAD; }; f"
	browse           = "!f() { if command -v git-browse >/dev/null; then git-browse \"$@\"; else gh browse \"$@\" > /dev/null; fi }; f"
	pulls            = browse -- pulls
	root             = rev-parse --show-toplevel
	strip-whitepsace = !git ls-files | xargs perl -i -pe 's/[\\t ]+$//g'
	showf            = show --format=fuller
	stats            = !lcars util:git:stats
	prq              = !gh prq --push --copy --open --body ''
	prql             = !gh prq --no-editor --push --copy --open --body \"\" --title \"$(git log -1 --format=%s)\"
	pru              = !gh pr view --json url --jq .url
	prb              = "!f() { gh pr view --web \"$@\" 2> /dev/null || gh browse &> /dev/null; }; f"
	todo             = grep -wniI -e TODO -e FIXME
	last-committer   = !git --no-pager log --pretty="%an" --no-merges -1
	last-subject     = !git --no-pager log --pretty="%s" -1
	show-files       = !git --no-pager show --name-only --format=
	last-pull-sha    = !"git reflog | awk '/: pull / { if (l == 1) { print $1; exit }; l+=1 }'"
	first-commit     = commit --allow-empty -m 'First commit'
	ls-files-tree    = "!f() { git ls-files \"$@\" | tree --fromfile . ; }; f"
	default-branch   = !gh repo view --json defaultBranchRef --jq .defaultBranchRef.name
	check-signature  = "!f() { [ \"$(git log -1 --format='%G?' \"$@\")\" = G ] && echo good || echo bad; }; f"

[advice]
	statusHints = false

[rebase]
	autosquash = true
	autostash  = true

[stash]
	showStat  = true
	showPatch = true

[status]
	short = true
	branch = true

[include]
	path = ~/.gitconfig.local

[init]
	defaultBranch = main

[mergetool "fugitive"]
	cmd = vim -f -c \"Gdiff\" \"$MERGED\"

[instaweb]
	httpd = webrick
	browser = open

[man]
	viewer = vim

[man "vim"]
	cmd = "f() { [ -t 1 ] && MANPAGER=\"vim +MANPAGER --not-a-term -\" man \"$@\" || man \"$@\"; }; f"

[gpg]
	format = ssh

[gpg "ssh"]
	allowedSignersFile = ~/.ssh/allowed_signers

[commit]
	gpgsign = true

[tag]
	gpgsign = true

; vim:ft=gitconfig list
