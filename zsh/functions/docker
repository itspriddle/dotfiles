if ! type -p docker &> /dev/null; then
  >&2 echo "Error: \`docker\` not found."
  return 1
elif ! type -p docker-machine &> /dev/null; then
  >&2 echo "Error: \`docker-machine\` not found."
  return 1
fi

if [ -z "$DOCKER_HOST" ]; then
  # Start docker-machine if it is not running
  [ "$(docker-machine status dev)" != "Running" ] && docker-machine start dev

  # Initializes shell for use with docker/docker-machine
  eval "$(docker-machine env dev)"
fi

# Run `docker`
command docker $@

# vim: ft=zsh
