if (( ${+commands[docker]} == 0 )); then
  >&2 echo "zsh: command not found: docker"
  return 127
elif (( ${+commands[docker-machine]} == 0 )); then
  >&2 echo "zsh: command not found: docker-machine"
  return 127
fi

if [ -z "$DOCKER_HOST" ]; then
  # Start docker-machine if it is not running
  [ "$(docker-machine status dev)" != "Running" ] && docker-machine start dev

  # Initializes shell for use with docker/docker-machine
  eval "$(docker-machine env dev)"
fi

# Run `docker`
command docker $@

# vim: ft=zsh
